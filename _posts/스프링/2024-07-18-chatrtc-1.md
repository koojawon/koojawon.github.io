---
title: "실시간 랜덤 화상 채팅 서비스 개발(1)"
excerpt: ""
categories:
  - Spring
  - WebRTC
toc: true
toc_sticky: true

---

## 요구 사항 정리 :ballot_box_with_check:

1. 1 : 1 실시간 화상 통신이어야 한다.
2. 채팅 기능도 있어야 한다.
3. 무작위로 상대가 정해지며, 조기 종료가 가능해야 한다.
4. (선택) 재 연결 기능
5. (선택) 지연 시간이 낮으면 좋겠음.



## WebRTC

1:1 ,1:N, N:N 실시간 통신을 웹 브라우저 상에서 가능케 해주는 기술이다. 비디오/음성/데이터를 송수신 가능하며, 별도 처리가 필요 없다는 장점이 있다.



### 연결 방식

![connection_method](/assets/img/live-stream5.png)

#### Mesh

모든 사용자를 직접 1 : 1 연결한다. 직접 연결이기 때문에 저지연성을 기대할 수 있으나 참여자가 많아지면 본인을 제외한 (n-1)*2개의 연결을 유지해야 한다.

#### MCU

Mesh와 다르게 중간에 미디어 서버가 존재하고, 이 서버가 미디어 정보를 혼합하여 하나의 연결로 수신할 수 있게 가공해 준다. 이때, 사용자는 2개의 연결만 유지하지만, 서버의 부담이 커지게 된다.

#### SFU

MCU와 같이 서버가 존재하지만, 가공 과정이 없다. 사용자는 n개(Uplink 1개, Downlink n-1개)의 연결을 유지해야 하고, 서버는 n^2개의 연결을 유지해야 한다.



### Signaling?

TODO>
